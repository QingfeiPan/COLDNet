---
title: "COLDNet Vignette"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Build Network

# Load in Data

```{r, results='hide'}
library(COLDNet)
# shiny::runApp(system.file("shiny", package = "visNetwork"))
test_net_dat <- COLDNet:::test_net
```

# Modify data to fit needs

```{r}
# Weights are non-negative, so take abs(rho)

test_net_dat$abs_cor <- abs(test_net_dat$rho)
colnames(test_net_dat) <- c("from", "to", "rho", "p_unadjusted", "p_Bonferroni", "abs_cor")
```

# Build igraph + calculate layout

```{r}
# Takes in a dataframe, uses igraph to make a network, then ggraph to get plot parameters. 
# All this data is stored in the igraph object

test_net <- build_network(input = test_net_dat, from = "Gene1", to = "Gene2", color = "rho", weight = "abs_cor")
```

# Build and Plot visNetwork

```{r}
# Takes in the igraph object and runs the shiny app!!

build_visnetwork(test_net)

## Changes!
# Constant layout !!!
# Zoom in functionality
# Fix data loading issue??
# New plot function standalone for other variables!!
```
